function t(t,s,i,e){Object.defineProperty(t,s,{get:i,set:e,enumerable:!0,configurable:!0})}var s=globalThis,i={},e={},r=s.parcelRequire4f74;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in e){var s=e[t];delete e[t];var r={id:t,exports:{}};return i[t]=r,s.call(r.exports,r,r.exports),r.exports}var h=Error("Cannot find module '"+t+"'");throw h.code="MODULE_NOT_FOUND",h}).register=function(t,s){e[t]=s},s.parcelRequire4f74=r);var h=r.register;h("hbDK6",function(s,i){t(s.exports,"Turtle",()=>o);var e=r("hdJsM");class h{constructor(t,s){this.position=t,this.heading=s}copy(){return new h(this.position.copy(),this.heading)}}class o{constructor(t,s){this.p5=t,this.state=new h((0,e.Vec2).of(0,0),void 0==s?-t.HALF_PI:s),this.states=[]}push(){return this.states.push(this.state.copy()),this}pop(){return this.state=this.states.pop(),this}move_to(t,s){return this.state.position.x=t,this.state.position.y=s,this}line_to(t,s){return this.p5.line(this.state.position.x,this.state.position.y,t,s),this.move_to(t,s),this}line_forward(t){let s=this.state.position.x+Math.cos(this.state.heading)*t,i=this.state.position.y+Math.sin(this.state.heading)*t;return this.line_to(s,i),this}move_forward(t){let s=this.state.position.x+Math.cos(this.state.heading)*t,i=this.state.position.y+Math.sin(this.state.heading)*t;return this.move_to(s,i),this}turn(t){return this.state.heading+=t,this}set_heading(t){return this.state.heading=t,this}}}),h("hdJsM",function(s,i){t(s.exports,"Vec2",()=>e);class e{constructor(t,s){this.x=t,this.y=s}copy(t){return t?(t.x=this.x,t.y=this.y,t):e.of(this.x,this.y)}sum(t){return this.x+=t.x,this.y+=t.y,this}mult(t){return this.x*=t,this.y*=t,this}normalize(){return this.mult(1/this.length())}length_squared(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.length_squared())}dot(t){return this.x*t.x+this.y*t.y}static of(t,s){return new e(t,s)}}});var o=r("7vzAp"),n=r("9DS0H"),a=r("hbDK6");class u{constructor(){this.axiom=[],this.scratch=[],this.rules=[]}set_axiom(t){this.axiom.length=0,this.axiom.push(...t)}get_axiom(){return[...this.axiom]}add_rule(t,s){this.rules.push({predecessor:t,successor:s})}produce(){for(let t of(this.scratch.length=0,this.axiom))this.append_successor(t);[this.scratch,this.axiom]=[this.axiom,this.scratch]}append_successor(t){for(let s of this.rules)if(s.predecessor==t){this.scratch.push(...s.successor);return}this.scratch.push(t)}}new o.Page("Turtle",function(t){let s=.75*window.innerWidth,i=.75*window.innerHeight,e=n.antique_white(t),r={id:Symbol("F")},h={id:Symbol("-")},o={id:Symbol("+")},c=new u;c.add_rule(r,[r,h,r,o,r,o,r,r,h,r,h,r,o,r]),t.setup=()=>{t.createCanvas(s,i),t.frameRate(2)};let l=10;t.draw=()=>{++l>5?(l=0,c.set_axiom([r,h,r,h,r,h,r])):c.produce(),t.background(e);let n=new a.Turtle(t);n.move_to(s/3,3*i/4);let u=s/3*Math.pow(1/4,l),p=t.HALF_PI;!function(t,s){for(let i of t){let t=s.get(i.id);void 0!=t&&t(i)}}(c.get_axiom(),new Map([[r.id,()=>{n.line_forward(u)}],[h.id,()=>{n.turn(p)}],[o.id,()=>{n.turn(-p)}]]))}});
//# sourceMappingURL=index.aeb36300.js.map
