function t(t,s,i,e){Object.defineProperty(t,s,{get:i,set:e,enumerable:!0,configurable:!0})}var s=globalThis,i={},e={},r=s.parcelRequire4f74;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in e){var s=e[t];delete e[t];var r={id:t,exports:{}};return i[t]=r,s.call(r.exports,r,r.exports),r.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,s){e[t]=s},s.parcelRequire4f74=r);var o=r.register;o("hbDK6",function(s,i){t(s.exports,"Turtle",()=>n);var e=r("hdJsM");class o{constructor(t,s){this.position=t,this.heading=s}copy(){return new o(this.position.copy(),this.heading)}}class n{constructor(t,s){this.p5=t,this.state=new o((0,e.Vec2).of(0,0),void 0==s?-t.HALF_PI:s),this.states=[]}push(){return this.states.push(this.state.copy()),this}pop(){return this.state=this.states.pop(),this}move_to(t,s){return this.state.position.x=t,this.state.position.y=s,this}line_to(t,s){return this.p5.line(this.state.position.x,this.state.position.y,t,s),this.move_to(t,s),this}line_forward(t){let s=this.state.position.x+Math.cos(this.state.heading)*t,i=this.state.position.y+Math.sin(this.state.heading)*t;return this.line_to(s,i),this}move_forward(t){let s=this.state.position.x+Math.cos(this.state.heading)*t,i=this.state.position.y+Math.sin(this.state.heading)*t;return this.move_to(s,i),this}turn(t){return this.state.heading+=t,this}set_heading(t){return this.state.heading=t,this}}}),o("hdJsM",function(s,i){t(s.exports,"Vec2",()=>e);class e{constructor(t,s){this.x=t,this.y=s}copy(t){return t?(t.x=this.x,t.y=this.y,t):e.of(this.x,this.y)}sum(t){return this.x+=t.x,this.y+=t.y,this}mult(t){return this.x*=t,this.y*=t,this}normalize(){return this.mult(1/this.length())}length_squared(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.length_squared())}dot(t){return this.x*t.x+this.y*t.y}static of(t,s){return new e(t,s)}}});var n=r("7vzAp"),h=r("9DS0H"),a=r("hbDK6");const u={of:t=>({id:t}),chars:t=>{let s=[];for(let i of t)s.push({id:i});return s}};class c{constructor(t){this._axiom=[],this.rules=t}get axiom(){return this._axiom}set axiom(t){"string"==typeof t||t instanceof String?this._axiom=u.chars(t):this._axiom=[...t]}produce(){let t=[];for(let s of this._axiom)t.push(...this.compute_successors(s));this._axiom=t}compute_successors(t){let s=this.rules[t.id];return void 0==s?[t]:"string"==typeof s||s instanceof String?u.chars(s):Array.isArray(s)?s:s(t)}}new n.Page("Turtle & LSystem",function(t){let s=.75*window.innerWidth,i=.75*window.innerHeight,e=new c({F:"F-F+F+FF-F-F+F"}),r=10;t.setup=()=>{t.createCanvas(s,i)},t.draw=()=>{if(r++>=3)r=0,e.axiom="F-F-F-F",t.frameRate(1);else{var o;e.produce(),console.log((o=e.axiom).reduce((t,s)=>t+s.id,`${o.length}:`))}t.background(h.antique_white(t));let n=new(0,a.Turtle)(t).move_to(s/3,3*i/4),u=s/3*Math.pow(1/4,r),c=t.HALF_PI;!function(t,s){for(let i of t){let t=s[i.id];void 0!=t&&t(i)}}(e.axiom,{F:()=>n.line_forward(u),"-":()=>n.turn(c),"+":()=>n.turn(-c)})}});
//# sourceMappingURL=index.e966ad76.js.map
